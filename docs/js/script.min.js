"use strict";var desktopWindowWidth;function setWowSettings(e){return e?(new WOW({animateClass:"animated__animated",mobile:!1}).init(),desktopWindowWidth=!0,!0):(null,desktopWindowWidth=!1,!1)}window.innerWidth>1070?setWowSettings(desktopWindowWidth=!0):setWowSettings(desktopWindowWidth=!1),window.addEventListener("resize",(function(e){e.target.innerWidth>1070&&!1===desktopWindowWidth?(setWowSettings(!0),document.querySelectorAll(".map-dot").forEach((function(e){e.style.display="block"}))):e.target.innerWidth<1070&&!0===desktopWindowWidth&&setWowSettings(!1)}));var swiperHeader=new Swiper(".header__slider",{loop:!0,simulateTouch:!1,draggable:!1,slidesPerView:1,slideClass:"header__slider-item",slideActiveClass:"header__slider-item--active",wrapperClass:"header__slider-wrapper",effect:"fade",keyboard:!0,pagination:{bulletClass:"header__slider-bullet",bulletActiveClass:"header__slider-bullet--active",el:".header__slider-paggination",type:"bullets",renderBullet:function(e){var t=document.querySelectorAll(".header > .header__slider > .header__slider-wrapper > .header__slider-item > .slider-item__info > .slider-item__title > .slider-item__bullet-title")[e].textContent,i=e<10?"0".concat(e+1):e+1;return"<div class='header__slider-bullet'\">\n                <div class='header__slider-bullet-number title-24-800-white'> ".concat(i,"</div>\n                <div class='header__slider-bullet-name text-16-300-white'>").concat(t,"</div>\n            </div>")}},navigation:{nextEl:".header-next-slide",prevEl:".header-prev-slide"}}),swiperSurf=new Swiper(".surf__slider",{loop:!0,observer:!0,observeParents:!0,slidesPerView:4,slideClass:"surf__slider-item",wrapperClass:"surf__slider-wrapper",slideActiveClass:"surf__slider-item--active",autoplay:!1,navigation:{nextEl:".surf-next-slide",prevEl:".surf-prev-slide"},breakpoints:{0:{slidesPerView:1},750:{slidesPerView:2},1120:{slidesPerView:3},1500:{slidesPerView:4}}}),travelSurf=new Swiper(".travel__slider",{loop:!0,simulateTouch:!0,draggable:!1,slidesPerView:1,slideClass:"travel__slider-item",wrapperClass:"travel__slider-wrapper",effect:"flip",keyboard:!0,navigation:{nextEl:".travel-next-slide",prevEl:".travel-prev-slide"}}),sleepSurf=new Swiper(".sleep__slider",{loop:!0,simulateTouch:!0,draggable:!1,slidesPerView:1,slideClass:"sleep__slider-item",wrapperClass:"sleep__slider-wrapper",effect:"fade",keyboard:!0,navigation:{nextEl:".sleep-next-slide",prevEl:".sleep-prev-slide"}}),shopSurf=new Swiper(".shop__slider",{loop:!1,simulateTouch:!1,draggable:!1,slidesPerView:1,slideClass:"shop__slider-item",wrapperClass:"shop__slider-wrapper",effect:"flip",keyboard:!0,navigation:{nextEl:".shop-next-slide",prevEl:".shop-prev-slide"}});function hideSurfCards(e){var t=e.dataset.checkedPlace,i=document.querySelectorAll(".map-dot");i.forEach((function(e){e.style.display="block"})),"all"!==t&&i.forEach((function(e){e.dataset.continent!==t&&(e.style.display="none")})),e.classList.add("shuffle-active-button")}function getNightsQuantity(){return document.querySelector(".sleep__slider-wrapper > .swiper-slide-active > .sleep-slide__flight-info > .sleep-slide__flight-categories").children[1].children[1].children[0].dataset.hotelNightsCount}function getGuestsQuantity(){return document.querySelector(".sleep__slider-wrapper > .swiper-slide-active > .sleep-slide__flight-info > .sleep-slide__flight-categories").children[2].children[1].children[0].dataset.hotelGuestsCount}function hotelFinalPrice(e){var t=+getGuestsQuantity(),i=+getNightsQuantity(),s=e.path||e.composedPath&&e.composedPath(),l=t*i*+s[4].children[3].children[1].dataset.hotelPrice;s[4].children[3].children[1].dataset.hotelFinalPrice=l,s[4].children[3].children[1].textContent="$".concat(l," USD")}function nightRemove(e){var t=e.path||e.composedPath&&e.composedPath(),i=+getNightsQuantity();i>=2&&(i-=1,t[2].children[0].dataset.hotelNightsCount=i,t[2].children[0].textContent="".concat(i,1!==i?" nights":" night"))}function nightAdd(e){var t=e.path||e.composedPath&&e.composedPath(),i=+getNightsQuantity();i<=999&&(i+=1,t[2].children[0].dataset.hotelNightsCount=i,t[2].children[0].textContent="".concat(i," nights"))}function guestAdd(e){var t=e.path||e.composedPath&&e.composedPath(),i=+getGuestsQuantity();i<=999&&(i+=1,t[2].children[0].dataset.hotelGuestsCount=i,t[2].children[0].textContent="".concat(i," quests"))}function guestRemove(e){var t=e.path||e.composedPath&&e.composedPath(),i=+getGuestsQuantity();i>=2&&(i-=1,t[2].children[0].dataset.hotelGuestsCount=i,t[2].children[0].textContent="".concat(i,1!==i?" quests":" quest"))}document.querySelector(".aside__logo").addEventListener("click",(function(){document.querySelector(".aside").classList.add("active-aside-menu")})),document.addEventListener("click",(function(e){e.target===document.querySelector(".aside")||document.querySelector(".aside").contains(e.target)||document.querySelector(".aside").classList.remove("active-aside-menu")})),document.querySelector(".surf__slider-map").addEventListener("mousedown",(function(e){e.target.classList.contains("map-dot")&&(document.querySelectorAll(".map-dot").forEach((function(e){e.children[1].style.display="none",e.classList.remove("map-dot--active")})),e.target.classList.add("map-dot--active"),e.target.children[1].style.display="flex")})),document.querySelector(".surf__shuffle-buttons").addEventListener("click",(function(e){var t=document.querySelectorAll(".surf__shuffle-button");e.target.classList.contains("surf__shuffle-button")&&(t.forEach((function(e){e.classList.remove("shuffle-active-button")})),hideSurfCards(e.target))})),document.querySelectorAll(".sleep-slide__flight-categories").forEach((function(e){e.addEventListener("click",(function(e){e.target.matches(".sleep-slide__calculator-nights-minus")?(nightRemove(e),hotelFinalPrice(e)):e.target.matches(".sleep-slide__calculator-nights-plus")?(nightAdd(e),hotelFinalPrice(e)):e.target.matches(".sleep-slide__calculator-guests-minus")?(guestRemove(e),hotelFinalPrice(e)):e.target.matches(".sleep-slide__calculator-guests-plus")&&(guestAdd(e),hotelFinalPrice(e))}))})),document.querySelectorAll(".shop-slide__product-description-circle").forEach((function(e){e.addEventListener("click",(function(e){e.target.classList.toggle("active-product-point")}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkZXNrdG9wV2luZG93V2lkdGgiLCJzZXRXb3dTZXR0aW5ncyIsImlzV2lkdGgiLCJXT1ciLCJhbmltYXRlQ2xhc3MiLCJtb2JpbGUiLCJpbml0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsZW0iLCJzdHlsZSIsImRpc3BsYXkiLCJzd2lwZXJIZWFkZXIiLCJTd2lwZXIiLCJsb29wIiwic2ltdWxhdGVUb3VjaCIsImRyYWdnYWJsZSIsInNsaWRlc1BlclZpZXciLCJzbGlkZUNsYXNzIiwic2xpZGVBY3RpdmVDbGFzcyIsIndyYXBwZXJDbGFzcyIsImVmZmVjdCIsImtleWJvYXJkIiwicGFnaW5hdGlvbiIsImJ1bGxldENsYXNzIiwiYnVsbGV0QWN0aXZlQ2xhc3MiLCJlbCIsInR5cGUiLCJyZW5kZXJCdWxsZXQiLCJpbmRleCIsImN1cnJlbnRTbGlkZU5hbWUiLCJ0ZXh0Q29udGVudCIsImN1cnJlbnRTbGlkZU51bWJlciIsImNvbmNhdCIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJzd2lwZXJTdXJmIiwib2JzZXJ2ZXIiLCJvYnNlcnZlUGFyZW50cyIsImF1dG9wbGF5IiwiYnJlYWtwb2ludHMiLCIwIiwiNzUwIiwiMTEyMCIsIjE1MDAiLCJ0cmF2ZWxTdXJmIiwic2xlZXBTdXJmIiwic2hvcFN1cmYiLCJoaWRlU3VyZkNhcmRzIiwiY2FyZCIsImNhcmRSZWdpb24iLCJkYXRhc2V0IiwiY2hlY2tlZFBsYWNlIiwiYWxsQ2FyZHMiLCJjb250aW5lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJnZXROaWdodHNRdWFudGl0eSIsInF1ZXJ5U2VsZWN0b3IiLCJjaGlsZHJlbiIsImhvdGVsTmlnaHRzQ291bnQiLCJnZXRHdWVzdHNRdWFudGl0eSIsImhvdGVsR3Vlc3RzQ291bnQiLCJob3RlbEZpbmFsUHJpY2UiLCJndWVzdHNRdWFudGl0eSIsIm5pZ2h0c1F1YW50aXR5IiwicGF0aCIsImNvbXBvc2VkUGF0aCIsImZpbmFsUHJpY2UiLCJob3RlbFByaWNlIiwibmlnaHRSZW1vdmUiLCJkZWZhdWx0VmFsdWUiLCJuaWdodEFkZCIsImd1ZXN0QWRkIiwiZ3Vlc3RSZW1vdmUiLCJldmVudCIsImNvbnRhaW5zIiwicmVtb3ZlIiwia2V5Iiwic2h1ZmZsQnRucyIsImhvdGVsIiwibWF0Y2hlcyIsInBvaW50IiwidG9nZ2xlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUNBLElBQUlBLG1CQVVKLFNBQVNDLGVBQWVDLEdBRXZCLE9BQUlBLEdBQ0csSUFBSUMsSUFDVCxDQUNDQyxhQUFZLHFCQUNaQyxRQUFRLElBR05DLE9BQ0pOLG9CQUFxQixHQUNkLElBRUYsS0FDTkEsb0JBQXFCLEdBQ2QsR0F2QkpPLE9BQU9DLFdBQWEsS0FFdkJQLGVBREFELG9CQUFxQixHQUlyQkMsZUFEQUQsb0JBQXFCLEdBc0J0Qk8sT0FBT0UsaUJBQVAsVUFBa0MsU0FBVUMsR0FDdkNBLEVBQUVDLE9BQU9ILFdBQWEsT0FBK0IsSUFBdkJSLG9CQUNqQ0MsZ0JBQWUsR0FFZlcsU0FBU0MsaUJBQVQsWUFBc0NDLFNBQVEsU0FBQUMsR0FDN0NBLEVBQUtDLE1BQU1DLFFBQVgsWUFFU1AsRUFBRUMsT0FBT0gsV0FBYSxPQUErQixJQUF2QlIsb0JBQ3hDQyxnQkFBZSxNQUtqQixJQUFNaUIsYUFBZSxJQUFJQyxPQUFKLGtCQUE4QixDQUNsREMsTUFBTSxFQUNOQyxlQUFlLEVBQ2ZDLFdBQVcsRUFDWEMsY0FBZSxFQUNmQyxXQUFVLHNCQUNWQyxpQkFBZ0IsOEJBQ2hCQyxhQUFZLHlCQUNaQyxPQUFNLE9BQ05DLFVBQVUsRUFDVkMsV0FBWSxDQUNYQyxZQUFXLHdCQUNYQyxrQkFBaUIsZ0NBQ2pCQyxHQUFFLDhCQUNGQyxLQUFJLFVBRUpDLGFBQWMsU0FBVUMsR0FFdkIsSUFDTUMsRUFEa0J4QixTQUFTQyxpQkFBVCxzSkFD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utCwLCDQtdGB0LvQuCB3aW5kb3cuaW5uZXJXaWR0aCDQsdC+0LvRjNGI0LUgMTA3MFxyXG5sZXQgZGVza3RvcFdpbmRvd1dpZHRoO1xyXG4vLyDQtdGB0LvQuCDRiNC40YDQuNC90LAg0LHQvtC70YzRiNC1IDEwNzAg0L7RgtC60LvRjtGH0LDQtdC8IHdvdyDQsNC90LjQvNCw0YbQuNGOINC40L3QsNGH0LUg0LLQutC70Y7Rh9Cw0LXQvFxyXG5pZiAod2luZG93LmlubmVyV2lkdGggPiAxMDcwKSB7XHJcblx0ZGVza3RvcFdpbmRvd1dpZHRoID0gdHJ1ZTtcclxuXHRzZXRXb3dTZXR0aW5ncyhkZXNrdG9wV2luZG93V2lkdGgpO1xyXG59IGVsc2Uge1xyXG5cdGRlc2t0b3BXaW5kb3dXaWR0aCA9IGZhbHNlO1xyXG5cdHNldFdvd1NldHRpbmdzKGRlc2t0b3BXaW5kb3dXaWR0aCk7XHJcbn1cclxuLy8g0YQt0Y8g0L7RgtC60LvRjtGH0LXQvdC40Y8v0LLQutC70Y7Rh9C10L3QuNGPIHdvdyDQsNC90LjQvNCw0YbQuNC5XHJcbmZ1bmN0aW9uIHNldFdvd1NldHRpbmdzKGlzV2lkdGgpIHtcclxuXHRsZXQgd293O1xyXG5cdGlmIChpc1dpZHRoKSB7XHJcblx0XHR3b3cgPSBuZXcgV09XKFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YW5pbWF0ZUNsYXNzOiBgYW5pbWF0ZWRfX2FuaW1hdGVkYCxcclxuXHRcdFx0XHRtb2JpbGU6IGZhbHNlLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0d293LmluaXQoKTtcclxuXHRcdGRlc2t0b3BXaW5kb3dXaWR0aCA9IHRydWU7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0d293ID0gbnVsbDtcclxuXHRkZXNrdG9wV2luZG93V2lkdGggPSBmYWxzZTtcclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuLy8g0L/RgNC+0LLQtdGA0LrQsCDRiNC40YDQuNC90Ysg0LXQutGA0LDQvdCwXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKGByZXNpemVgLCBmdW5jdGlvbiAoZSkge1xyXG5cdGlmIChlLnRhcmdldC5pbm5lcldpZHRoID4gMTA3MCAmJiBkZXNrdG9wV2luZG93V2lkdGggPT09IGZhbHNlKSB7XHJcblx0XHRzZXRXb3dTZXR0aW5ncyh0cnVlKTtcclxuXHRcdC8vINC/0YDQuCDQv9C10YDQtdGF0L7QtNC1INGBINCz0YDQsNC90LjRhtGLINC10LrRgNCw0L3QsCDQvNC10L3RjNGI0LUgMTA3MCDQuiDQtdC60YDQsNC90YMg0LHQvtC70YzRiNC1IDEwNzAg0LLRgdC1INGC0L7Rh9C60Lgg0LrQsNGA0YLRiyDQsdGD0LTRg9GCINGP0LLQvdC+INC+0YLQvtCx0YDQsNC20LDRgtGM0YHRj1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLm1hcC1kb3RgKS5mb3JFYWNoKGVsZW0gPT4ge1xyXG5cdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBgYmxvY2tgO1xyXG5cdFx0fSk7XHJcblx0fSBlbHNlIGlmIChlLnRhcmdldC5pbm5lcldpZHRoIDwgMTA3MCAmJiBkZXNrdG9wV2luZG93V2lkdGggPT09IHRydWUpIHtcclxuXHRcdHNldFdvd1NldHRpbmdzKGZhbHNlKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8g0YHQu9Cw0LnQtNC10YAg0YDQsNC30LTQtdC70LAgaGVhZGVyXHJcbmNvbnN0IHN3aXBlckhlYWRlciA9IG5ldyBTd2lwZXIoYC5oZWFkZXJfX3NsaWRlcmAsIHtcclxuXHRsb29wOiB0cnVlLFxyXG5cdHNpbXVsYXRlVG91Y2g6IGZhbHNlLFxyXG5cdGRyYWdnYWJsZTogZmFsc2UsXHJcblx0c2xpZGVzUGVyVmlldzogMSxcclxuXHRzbGlkZUNsYXNzOiBgaGVhZGVyX19zbGlkZXItaXRlbWAsXHJcblx0c2xpZGVBY3RpdmVDbGFzczogYGhlYWRlcl9fc2xpZGVyLWl0ZW0tLWFjdGl2ZWAsXHJcblx0d3JhcHBlckNsYXNzOiBgaGVhZGVyX19zbGlkZXItd3JhcHBlcmAsXHJcblx0ZWZmZWN0OiBgZmFkZWAsXHJcblx0a2V5Ym9hcmQ6IHRydWUsXHJcblx0cGFnaW5hdGlvbjoge1xyXG5cdFx0YnVsbGV0Q2xhc3M6IGBoZWFkZXJfX3NsaWRlci1idWxsZXRgLFxyXG5cdFx0YnVsbGV0QWN0aXZlQ2xhc3M6IGBoZWFkZXJfX3NsaWRlci1idWxsZXQtLWFjdGl2ZWAsXHJcblx0XHRlbDogYC5oZWFkZXJfX3NsaWRlci1wYWdnaW5hdGlvbmAsXHJcblx0XHR0eXBlOiBgYnVsbGV0c2AsXHJcblx0XHQvLyDQsNGC0L7QvNCw0YLQuNGH0LXRgdC60LDRjyDQv9GA0L7RgNC40YHQvtCy0LrQsCBkb3RzINGB0LvQsNC50LTQtdGA0LAo0L/QviDQvtGH0LXRgNC10LTQuClcclxuXHRcdHJlbmRlckJ1bGxldDogZnVuY3Rpb24gKGluZGV4KSB7XHJcblx0XHRcdC8vINC80LDRgdGB0LjQsiDQvdCw0LfQstCw0L3QuNC5INCy0YHQtdGFINC/0L7QsdC10YDQtdC20LjQuSAgXHJcblx0XHRcdGNvbnN0IHNob3JlVGl0bGVBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5oZWFkZXIgPiAuaGVhZGVyX19zbGlkZXIgPiAuaGVhZGVyX19zbGlkZXItd3JhcHBlciA+IC5oZWFkZXJfX3NsaWRlci1pdGVtID4gLnNsaWRlci1pdGVtX19pbmZvID4gLnNsaWRlci1pdGVtX190aXRsZSA+IC5zbGlkZXItaXRlbV9fYnVsbGV0LXRpdGxlYCk7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRTbGlkZU5hbWUgPSBzaG9yZVRpdGxlQXJyYXlbaW5kZXhdLnRleHRDb250ZW50O1xyXG5cdFx0XHRjb25zdCBjdXJyZW50U2xpZGVOdW1iZXIgPSAoaW5kZXggPCAxMCkgPyBgMCR7aW5kZXggKyAxfWAgOiBpbmRleCArIDE7XHJcblx0XHRcdHJldHVybiBgPGRpdiBjbGFzcz0naGVhZGVyX19zbGlkZXItYnVsbGV0J1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0naGVhZGVyX19zbGlkZXItYnVsbGV0LW51bWJlciB0aXRsZS0yNC04MDAtd2hpdGUnPiAke2N1cnJlbnRTbGlkZU51bWJlcn08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2hlYWRlcl9fc2xpZGVyLWJ1bGxldC1uYW1lIHRleHQtMTYtMzAwLXdoaXRlJz4ke2N1cnJlbnRTbGlkZU5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PmA7XHJcblx0XHR9LFxyXG5cdH0sXHJcblx0bmF2aWdhdGlvbjoge1xyXG5cdFx0bmV4dEVsOiBgLmhlYWRlci1uZXh0LXNsaWRlYCxcclxuXHRcdHByZXZFbDogYC5oZWFkZXItcHJldi1zbGlkZWAsXHJcblx0fSxcclxufSk7XHJcblxyXG4vLyDRgdC70LDQudC00LXRgCDRgNCw0LfQtNC10LvQsCBzdXJmXHJcbmNvbnN0IHN3aXBlclN1cmYgPSBuZXcgU3dpcGVyKGAuc3VyZl9fc2xpZGVyYCwge1xyXG5cdGxvb3A6IHRydWUsXHJcblx0b2JzZXJ2ZXI6IHRydWUsXHJcblx0b2JzZXJ2ZVBhcmVudHM6IHRydWUsXHJcblx0c2xpZGVzUGVyVmlldzogNCxcclxuXHRzbGlkZUNsYXNzOiBgc3VyZl9fc2xpZGVyLWl0ZW1gLFxyXG5cdHdyYXBwZXJDbGFzczogYHN1cmZfX3NsaWRlci13cmFwcGVyYCxcclxuXHRzbGlkZUFjdGl2ZUNsYXNzOiBgc3VyZl9fc2xpZGVyLWl0ZW0tLWFjdGl2ZWAsXHJcblx0YXV0b3BsYXk6IGZhbHNlLFxyXG5cdG5hdmlnYXRpb246IHtcclxuXHRcdG5leHRFbDogYC5zdXJmLW5leHQtc2xpZGVgLFxyXG5cdFx0cHJldkVsOiBgLnN1cmYtcHJldi1zbGlkZWAsXHJcblx0fSxcclxuXHRicmVha3BvaW50czoge1xyXG5cdFx0MDoge1xyXG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAxLFxyXG5cdFx0fSxcclxuXHRcdDc1MDoge1xyXG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAyLFxyXG5cdFx0fSxcclxuXHRcdDExMjA6IHtcclxuXHRcdFx0c2xpZGVzUGVyVmlldzogMyxcclxuXHRcdH0sXHJcblx0XHQxNTAwOiB7XHJcblx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXHJcblx0XHR9XHJcblx0fSxcclxufSk7XHJcblxyXG4vLyDRgdC70LDQudC00LXRgCDRgNCw0LfQtNC10LvQsCB0cmF2ZWxcclxuY29uc3QgdHJhdmVsU3VyZiA9IG5ldyBTd2lwZXIoYC50cmF2ZWxfX3NsaWRlcmAsIHtcclxuXHRsb29wOiB0cnVlLFxyXG5cdHNpbXVsYXRlVG91Y2g6IHRydWUsXHJcblx0ZHJhZ2dhYmxlOiBmYWxzZSxcclxuXHRzbGlkZXNQZXJWaWV3OiAxLFxyXG5cdHNsaWRlQ2xhc3M6IGB0cmF2ZWxfX3NsaWRlci1pdGVtYCxcclxuXHR3cmFwcGVyQ2xhc3M6IGB0cmF2ZWxfX3NsaWRlci13cmFwcGVyYCxcclxuXHRlZmZlY3Q6IGBmbGlwYCxcclxuXHRrZXlib2FyZDogdHJ1ZSxcclxuXHRuYXZpZ2F0aW9uOiB7XHJcblx0XHRuZXh0RWw6IGAudHJhdmVsLW5leHQtc2xpZGVgLFxyXG5cdFx0cHJldkVsOiBgLnRyYXZlbC1wcmV2LXNsaWRlYCxcclxuXHR9LFxyXG59KTtcclxuXHJcbi8vINGB0LvQsNC50LTQtdGAINGA0LDQt9C00LXQu9CwIHNsZWVwXHJcbmNvbnN0IHNsZWVwU3VyZiA9IG5ldyBTd2lwZXIoYC5zbGVlcF9fc2xpZGVyYCwge1xyXG5cdGxvb3A6IHRydWUsXHJcblx0c2ltdWxhdGVUb3VjaDogdHJ1ZSxcclxuXHRkcmFnZ2FibGU6IGZhbHNlLFxyXG5cdHNsaWRlc1BlclZpZXc6IDEsXHJcblx0c2xpZGVDbGFzczogYHNsZWVwX19zbGlkZXItaXRlbWAsXHJcblx0d3JhcHBlckNsYXNzOiBgc2xlZXBfX3NsaWRlci13cmFwcGVyYCxcclxuXHRlZmZlY3Q6IGBmYWRlYCxcclxuXHRrZXlib2FyZDogdHJ1ZSxcclxuXHRuYXZpZ2F0aW9uOiB7XHJcblx0XHRuZXh0RWw6IGAuc2xlZXAtbmV4dC1zbGlkZWAsXHJcblx0XHRwcmV2RWw6IGAuc2xlZXAtcHJldi1zbGlkZWAsXHJcblx0fSxcclxufSk7XHJcblxyXG4vLyDRgdC70LDQudC00LXRgCDRgNCw0LfQtNC10LvQsCBzaG9wXHJcbmNvbnN0IHNob3BTdXJmID0gbmV3IFN3aXBlcihgLnNob3BfX3NsaWRlcmAsIHtcclxuXHRsb29wOiBmYWxzZSxcclxuXHRzaW11bGF0ZVRvdWNoOiBmYWxzZSxcclxuXHRkcmFnZ2FibGU6IGZhbHNlLFxyXG5cdHNsaWRlc1BlclZpZXc6IDEsXHJcblx0c2xpZGVDbGFzczogYHNob3BfX3NsaWRlci1pdGVtYCxcclxuXHR3cmFwcGVyQ2xhc3M6IGBzaG9wX19zbGlkZXItd3JhcHBlcmAsXHJcblx0ZWZmZWN0OiBgZmxpcGAsXHJcblx0a2V5Ym9hcmQ6IHRydWUsXHJcblx0bmF2aWdhdGlvbjoge1xyXG5cdFx0bmV4dEVsOiBgLnNob3AtbmV4dC1zbGlkZWAsXHJcblx0XHRwcmV2RWw6IGAuc2hvcC1wcmV2LXNsaWRlYCxcclxuXHR9LFxyXG59KTtcclxuXHJcbi8vINC+0YLQvtCx0YDQsNC20LXQvdC40LUg0LzQtdC90Y4g0L/RgNC4INC60LvQuNC60LUg0L/QviBhc2lkZV9fbG9nb1xyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYXNpZGVfX2xvZ29gKS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICgpID0+IHtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYXNpZGVgKS5jbGFzc0xpc3QuYWRkKGBhY3RpdmUtYXNpZGUtbWVudWApO1xyXG59KTtcclxuLy8g0YHQutGA0YvRgtC40LUg0LzQtdC90Y4g0L/RgNC4INC60LvQuNC60LUg0L3QsCDQvtCx0LvQsNGB0YLRjCDQstC90LUgYXNpZGVcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCAoZXZlbnQpID0+IHtcclxuXHRpZiAoIShldmVudC50YXJnZXQgPT09IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5hc2lkZWApIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5hc2lkZWApLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpKSB7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYXNpZGVgKS5jbGFzc0xpc3QucmVtb3ZlKGBhY3RpdmUtYXNpZGUtbWVudWApO1xyXG5cdH1cclxufSk7XHJcbi8vINC+0YLQvtCx0YDQsNC20LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDQv9C+0LHQtdGA0LXQttGM0Y8g0L/RgNC4INC60LvQuNC60LUg0L/QviDRgtC+0YfQutC1INC90LAg0LrQsNGA0YLQtVxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuc3VyZl9fc2xpZGVyLW1hcGApLmFkZEV2ZW50TGlzdGVuZXIoYG1vdXNlZG93bmAsIChlKSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgbWFwLWRvdGApKSB7XHJcblx0XHQvLyDRgdC60YDRi9GC0LjQtSDQsNC60YLQuNCy0L3QvtC5INC60LDRgNGC0L7Rh9C60LgsINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINGC0L7Qu9GM0LrQviDQvtC00L3QvtC5INC60LDRgNGC0L7Rh9C60LhcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5tYXAtZG90YCkuZm9yRWFjaChrZXkgPT4ge1xyXG5cdFx0XHRrZXkuY2hpbGRyZW5bMV0uc3R5bGUuZGlzcGxheSA9IGBub25lYDtcclxuXHRcdFx0a2V5LmNsYXNzTGlzdC5yZW1vdmUoYG1hcC1kb3QtLWFjdGl2ZWApO1xyXG5cdFx0fSk7XHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKGBtYXAtZG90LS1hY3RpdmVgKTtcclxuXHRcdGUudGFyZ2V0LmNoaWxkcmVuWzFdLnN0eWxlLmRpc3BsYXkgPSBgZmxleGA7XHJcblx0fVxyXG59KTtcclxuLy8g0L/RgNC4INC+0L/RgNC10LTQtdC70LXQvdC90L7QvCDRgNCw0LfRgNC10YjQtdC90LjQuCDQutCw0YDRgtCwINGB0LrRgNGL0LLQsNC10YLRgdGPINC4INGB0L7Qt9C00LDQtdGC0YHRjyDRhNC40LvRjNGC0YAg0LzQtdGB0YIg0LTQu9GPINGB0LXRgNGE0LjQvdCz0LBcclxuLy8g0LTQvtGB0YLRg9C/0L3Ri9C1INGE0LjQu9GM0YLRgNGLOiBOb3J0aCBBbWVyaWNhLCBTb3V0aCBBbWVyaWNhLCBBZnJpY2EsIEV1cm9wZSwgQXNpYSwgQXVzdHJhbGlhXHJcbi8vINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINC+0LTQuNC9INC40Lcg0YTQuNC70YzRgtGA0L7QsiDQvtGC0L7QsdGA0LDQttCw0Y7RgtGB0Y8g0YLQvtC70YzQutC+INGC0LUg0LzQtdGB0YLQsCwg0LrQvtGC0L7RgNGL0LUg0L7RgtC90L7RgdGP0YLRgdGPXHJcbi8vINC6INGN0YLQvtC80YMg0YDQtdCz0LjQvtC90YMsINC+0YHRgtCw0LvRjNC90YvQtSDRgdC60YDRi9Cy0LDRjtGC0YHRj1xyXG5mdW5jdGlvbiBoaWRlU3VyZkNhcmRzKGNhcmQpIHtcclxuXHQvLyDQstGL0LHRgNCw0L3QvdGL0Lkg0YDQtdCz0LjQvtC9XHJcblx0Y29uc3QgY2FyZFJlZ2lvbiA9IGNhcmQuZGF0YXNldC5jaGVja2VkUGxhY2U7XHJcblx0Ly8g0LLRgdC1INC60LDRgNGC0L7Rh9C60LhcclxuXHRjb25zdCBhbGxDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5tYXAtZG90YCk7XHJcblx0Ly8g0L7RgtC+0LHRgNCw0LbQsNC10Lwg0LLRgdC1INC60LDRgNGC0L7Rh9C60LhcclxuXHRhbGxDYXJkcy5mb3JFYWNoKGVsZW0gPT4ge1xyXG5cdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gYGJsb2NrYDtcclxuXHR9KTtcclxuXHQvLyDQtdGB0LvQuCDQstGL0LHRgNCw0L0g0YDQtdCz0LjQvtC9INC4INC90LUg0YTQuNC70YzRgtGAICdBTEwnKNC+0YLQvtCx0YDQsNC20LXQvdC40LUg0LLRgdC10YUg0LrQsNGA0YLQvtGH0LXQuiDQstGB0LXRhSDRgNC10LPQuNC+0L3QvtCyKVxyXG5cdC8vINC+0YHRgtCw0LvRjNC90YvQtSDQutCw0YDRgtC+0YfQutC4INGB0LrRgNGL0LLQsNGO0YLRgdGPINC4INC6INGA0LXQs9C40L7QvdGDINC/0YDQuNC80LXQvdGP0LXRgtGB0Y8gYWN0aXZlLdC60LvQsNGB0YFcclxuXHRpZiAoY2FyZFJlZ2lvbiAhPT0gYGFsbGApIHtcclxuXHRcdC8vINGD0LTQu9Cw0Y/QtdC8INCy0YHQtSDQutCw0YDRgtC+0YfQutC4LCDQutC+0YLQvtGA0YvQtSDQvdC1INC+0YLQvdC+0YHRj9GC0YHRjyDQuiDQstGL0LHRgNCw0L3QvtC80YMg0YDQtdCz0LjQvtC90YNcclxuXHRcdGFsbENhcmRzLmZvckVhY2goZWxlbSA9PiB7XHJcblx0XHRcdGlmIChlbGVtLmRhdGFzZXQuY29udGluZW50ICE9PSBjYXJkUmVnaW9uKSB7XHJcblx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gYG5vbmVgO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblx0Ly8g0LfQsNC00LDQtdC8INCw0LrRgtC40LLQvdGL0Lkg0LrQu9Cw0YHRgVxyXG5cdGNhcmQuY2xhc3NMaXN0LmFkZChgc2h1ZmZsZS1hY3RpdmUtYnV0dG9uYCk7XHJcbn07XHJcbi8vINC90LDQttCw0YLQuNC1INC90LAg0L7QtNC40L0g0LjQtyDRgNC10LPQuNC+0L3QvtCyXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5zdXJmX19zaHVmZmxlLWJ1dHRvbnNgKS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGV2ZW50ID0+IHtcclxuXHRjb25zdCBzaHVmZmxCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLnN1cmZfX3NodWZmbGUtYnV0dG9uYCk7XHJcblx0Ly8g0LXRgdC70Lgg0L3QsNC20LDRgtCwINC60L3QvtC/0LrQsCDRhNC40LvRjNGC0YDQsCwg0L/QtdGA0LXQsdC40YDQtdC8INCy0YHQtSDQutC90L7Qv9C60Lgg0Lgg0YPQtNCw0LvRj9C10Lwg0LrQu9Cw0YHRgSBzaHVmZmxlLWFjdGl2ZS1idXR0b25cclxuXHQvLyDQutC+0YLQvtGA0YvQuSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0LLRi9C00LXQu9C10L3QuNC1INCw0LrRgtC40LLQvdC+0LPQviDRgNC10LPQuNC+0L3QsCDRhtCy0LXRgtC+0LxcclxuXHRpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgc3VyZl9fc2h1ZmZsZS1idXR0b25gKSkge1xyXG5cdFx0c2h1ZmZsQnRucy5mb3JFYWNoKGVsZW0gPT4ge1xyXG5cdFx0XHRlbGVtLmNsYXNzTGlzdC5yZW1vdmUoYHNodWZmbGUtYWN0aXZlLWJ1dHRvbmApO1xyXG5cdFx0fSk7XHJcblx0XHRoaWRlU3VyZkNhcmRzKGV2ZW50LnRhcmdldCk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vINC60L7Qu9C40YfQtdGB0YLQstC+INCy0YvQsdGA0LDQvdC90YvRhSDQvdC+0YfQtdC5XHJcbmZ1bmN0aW9uIGdldE5pZ2h0c1F1YW50aXR5KCkge1xyXG5cdGNvbnN0IG5pZ2h0c0luZm9CbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5zbGVlcF9fc2xpZGVyLXdyYXBwZXIgPiAuc3dpcGVyLXNsaWRlLWFjdGl2ZSA+IC5zbGVlcC1zbGlkZV9fZmxpZ2h0LWluZm8gPiAuc2xlZXAtc2xpZGVfX2ZsaWdodC1jYXRlZ29yaWVzYCk7XHJcblx0cmV0dXJuIG5pZ2h0c0luZm9CbG9jay5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS5jaGlsZHJlblswXS5kYXRhc2V0LmhvdGVsTmlnaHRzQ291bnQ7XHJcbn07XHJcblxyXG4vLyDQutC+0LvQuNGH0LXRgdGC0LLQviDQstGL0LHRgNCw0L3QvdGL0YUg0LPQvtGB0YLQtdC5XHJcbmZ1bmN0aW9uIGdldEd1ZXN0c1F1YW50aXR5KCkge1xyXG5cdGNvbnN0IGd1ZXN0c0luZm9CbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5zbGVlcF9fc2xpZGVyLXdyYXBwZXIgPiAuc3dpcGVyLXNsaWRlLWFjdGl2ZSA+IC5zbGVlcC1zbGlkZV9fZmxpZ2h0LWluZm8gPiAuc2xlZXAtc2xpZGVfX2ZsaWdodC1jYXRlZ29yaWVzYCk7XHJcblx0cmV0dXJuIGd1ZXN0c0luZm9CbG9jay5jaGlsZHJlblsyXS5jaGlsZHJlblsxXS5jaGlsZHJlblswXS5kYXRhc2V0LmhvdGVsR3Vlc3RzQ291bnQ7XHJcbn07XHJcblxyXG4vLyDRgNCw0YHRgdGH0LXRgiDQuNGC0L7Qs9C+0LLQvtC5INGB0YLQvtC40LzQvtGB0YLQuCDQv9GA0L7QttC40LLQsNC90LjRjyDQsiDQvtGC0LXQu9C1XHJcbmZ1bmN0aW9uIGhvdGVsRmluYWxQcmljZShlKSB7XHJcblx0Ly8g0LrQvtC7LdCy0L4g0LPQvtGB0YLQtdC5XHJcblx0Y29uc3QgZ3Vlc3RzUXVhbnRpdHkgPSArZ2V0R3Vlc3RzUXVhbnRpdHkoKTtcclxuXHQvLyDQutC+0Lst0LLQviDQvdC+0YfQtdC5XHJcblx0Y29uc3QgbmlnaHRzUXVhbnRpdHkgPSArZ2V0TmlnaHRzUXVhbnRpdHkoKTtcclxuXHQvLyDRgtGA0LXQsdGD0LXQvNGL0LUg0L/Rg9GC0Lgg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSBET01cclxuXHRjb25zdCBwYXRoID0gZS5wYXRoIHx8IChlLmNvbXBvc2VkUGF0aCAmJiBlLmNvbXBvc2VkUGF0aCgpKTtcclxuXHQvLyDRgdGC0L7QuNC80L7RgdGC0Ywg0L7RgtC10LvRjyDQvdCwINC+0LTQvdGDINC90L7Rh9GMINGBINC+0LTQvdC+0LPQviDRh9C10LvQvtCy0LXQutCwXHJcblx0Y29uc3QgZmFjdG9yID0gK3BhdGhbNF0uY2hpbGRyZW5bM10uY2hpbGRyZW5bMV0uZGF0YXNldC5ob3RlbFByaWNlO1xyXG5cdGNvbnN0IGZpbmFsUHJpY2UgPSBndWVzdHNRdWFudGl0eSAqIG5pZ2h0c1F1YW50aXR5ICogZmFjdG9yO1xyXG5cdC8vIGRhdGFzZXQg0YEg0LDQutGC0YPQsNC70YzQvdC+0Lkg0YTQuNC90LDQu9GM0L3QvtC5INGB0YLQvtC40LzQvtGB0YLRjNGOINC+0YLQtdC70Y9cclxuXHRwYXRoWzRdLmNoaWxkcmVuWzNdLmNoaWxkcmVuWzFdLmRhdGFzZXQuaG90ZWxGaW5hbFByaWNlID0gZmluYWxQcmljZTtcclxuXHQvLyDQvtGC0L7QsdGA0LDQttC10L3QuNC1INGE0LjQvdCw0LvRjNC90L7QuSDRhtC10L3Ri1xyXG5cdHBhdGhbNF0uY2hpbGRyZW5bM10uY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBgJCR7ZmluYWxQcmljZX0gVVNEYDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIG5pZ2h0UmVtb3ZlKGUpIHtcclxuXHRjb25zdCBwYXRoID0gZS5wYXRoIHx8IChlLmNvbXBvc2VkUGF0aCAmJiBlLmNvbXBvc2VkUGF0aCgpKTtcclxuXHRsZXQgZGVmYXVsdFZhbHVlID0gK2dldE5pZ2h0c1F1YW50aXR5KCk7XHJcblx0aWYgKGRlZmF1bHRWYWx1ZSA+PSAyKSB7XHJcblx0XHRkZWZhdWx0VmFsdWUgLT0gMTtcclxuXHRcdHBhdGhbMl0uY2hpbGRyZW5bMF0uZGF0YXNldC5ob3RlbE5pZ2h0c0NvdW50ID0gZGVmYXVsdFZhbHVlO1xyXG5cdFx0cGF0aFsyXS5jaGlsZHJlblswXS50ZXh0Q29udGVudCA9IChkZWZhdWx0VmFsdWUgIT09IDEpID8gYCR7ZGVmYXVsdFZhbHVlfSBuaWdodHNgIDogYCR7ZGVmYXVsdFZhbHVlfSBuaWdodGA7XHJcblx0fVxyXG59O1xyXG5cclxuZnVuY3Rpb24gbmlnaHRBZGQoZSkge1xyXG5cdGNvbnN0IHBhdGggPSBlLnBhdGggfHwgKGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCkpO1xyXG5cdGxldCBkZWZhdWx0VmFsdWUgPSArZ2V0TmlnaHRzUXVhbnRpdHkoKTtcclxuXHRpZiAoZGVmYXVsdFZhbHVlIDw9IDk5OSkge1xyXG5cdFx0ZGVmYXVsdFZhbHVlICs9IDE7XHJcblx0XHRwYXRoWzJdLmNoaWxkcmVuWzBdLmRhdGFzZXQuaG90ZWxOaWdodHNDb3VudCA9IGRlZmF1bHRWYWx1ZTtcclxuXHRcdHBhdGhbMl0uY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBgJHtkZWZhdWx0VmFsdWV9IG5pZ2h0c2A7XHJcblx0fVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ3Vlc3RBZGQoZSkge1xyXG5cdGNvbnN0IHBhdGggPSBlLnBhdGggfHwgKGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCkpO1xyXG5cdGxldCBkZWZhdWx0VmFsdWUgPSArZ2V0R3Vlc3RzUXVhbnRpdHkoKTtcclxuXHRpZiAoZGVmYXVsdFZhbHVlIDw9IDk5OSkge1xyXG5cdFx0ZGVmYXVsdFZhbHVlICs9IDE7XHJcblx0XHRwYXRoWzJdLmNoaWxkcmVuWzBdLmRhdGFzZXQuaG90ZWxHdWVzdHNDb3VudCA9IGRlZmF1bHRWYWx1ZTtcclxuXHRcdHBhdGhbMl0uY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBgJHtkZWZhdWx0VmFsdWV9IHF1ZXN0c2A7XHJcblx0fVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ3Vlc3RSZW1vdmUoZSkge1xyXG5cdGNvbnN0IHBhdGggPSBlLnBhdGggfHwgKGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCkpO1xyXG5cdGxldCBkZWZhdWx0VmFsdWUgPSArZ2V0R3Vlc3RzUXVhbnRpdHkoKTtcclxuXHRpZiAoZGVmYXVsdFZhbHVlID49IDIpIHtcclxuXHRcdGRlZmF1bHRWYWx1ZSAtPSAxO1xyXG5cdFx0cGF0aFsyXS5jaGlsZHJlblswXS5kYXRhc2V0LmhvdGVsR3Vlc3RzQ291bnQgPSBkZWZhdWx0VmFsdWU7XHJcblx0XHRwYXRoWzJdLmNoaWxkcmVuWzBdLnRleHRDb250ZW50ID0gKGRlZmF1bHRWYWx1ZSAhPT0gMSkgPyBgJHtkZWZhdWx0VmFsdWV9IHF1ZXN0c2AgOiBgJHtkZWZhdWx0VmFsdWV9IHF1ZXN0YDtcclxuXHR9XHJcbn07XHJcblxyXG4vLyDQv9GA0L7QstC10YDQutCwINC6INC60LDQutC+0Lkg0LrQsNGC0LXQs9C+0YDQuNC4INC+0YLQvdC+0YHQuNGC0YHRjyAnKycg0LggJy0nINC4INCy0YvQv9C+0LvQvdC10L3QuNC1INC+0L/QtdGA0LDRhtC40Lgg0L/QtdGA0LXRgNCw0YHRh9C10YLQsCDRhNC40L3QsNC70YzQvdC+0Lkg0YbQtdC90YtcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLnNsZWVwLXNsaWRlX19mbGlnaHQtY2F0ZWdvcmllc2ApLmZvckVhY2goaG90ZWwgPT4ge1xyXG5cdGhvdGVsLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgZXZlbnQgPT4ge1xyXG5cdFx0aWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKGAuc2xlZXAtc2xpZGVfX2NhbGN1bGF0b3ItbmlnaHRzLW1pbnVzYCkpIHtcclxuXHRcdFx0bmlnaHRSZW1vdmUoZXZlbnQpO1xyXG5cdFx0XHRob3RlbEZpbmFsUHJpY2UoZXZlbnQpO1xyXG5cdFx0fSBlbHNlIGlmIChldmVudC50YXJnZXQubWF0Y2hlcyhgLnNsZWVwLXNsaWRlX19jYWxjdWxhdG9yLW5pZ2h0cy1wbHVzYCkpIHtcclxuXHRcdFx0bmlnaHRBZGQoZXZlbnQpO1xyXG5cdFx0XHRob3RlbEZpbmFsUHJpY2UoZXZlbnQpO1xyXG5cdFx0fSBlbHNlIGlmIChldmVudC50YXJnZXQubWF0Y2hlcyhgLnNsZWVwLXNsaWRlX19jYWxjdWxhdG9yLWd1ZXN0cy1taW51c2ApKSB7XHJcblx0XHRcdGd1ZXN0UmVtb3ZlKGV2ZW50KTtcclxuXHRcdFx0aG90ZWxGaW5hbFByaWNlKGV2ZW50KTtcclxuXHRcdH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoYC5zbGVlcC1zbGlkZV9fY2FsY3VsYXRvci1ndWVzdHMtcGx1c2ApKSB7XHJcblx0XHRcdGd1ZXN0QWRkKGV2ZW50KTtcclxuXHRcdFx0aG90ZWxGaW5hbFByaWNlKGV2ZW50KTtcclxuXHRcdH1cclxuXHR9KTtcclxufSk7XHJcblxyXG4vLyDQvtGC0L7QsdGA0LDQttC10L3QuNC1INC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdC+0Lkg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0YLQvtCy0LDRgNC1XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5zaG9wLXNsaWRlX19wcm9kdWN0LWRlc2NyaXB0aW9uLWNpcmNsZWApLmZvckVhY2gocG9pbnQgPT4ge1xyXG5cdHBvaW50LmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgZXZlbnQgPT4ge1xyXG5cdFx0ZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoYGFjdGl2ZS1wcm9kdWN0LXBvaW50YCk7XHJcblx0fSk7XHJcbn0pOyJdfQ==
